// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
document.addEventListener('DOMContentLoaded', function() {
    hljs.highlightAll();
    window.VerdiktChat = new VerdiktChatApp();
    window.VerdiktChat.init();
});

// –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
class VerdiktChatApp {
    constructor() {
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API
        this.API_CONFIG = {
            url: 'https://openrouter.ai/api/v1/chat/completions',
            model: 'qwen/qwen3-next-80b-a3b-instruct:free',
            apiKey: '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',
            maxTokens: 2500,
            temperature: 0.7
        };

        // –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ú–∞–∫—Å–∏–º–∞ –í–µ—Ä–¥–∏–∫—Ç–∞
        this.VERDIKT_KNOWLEDGE = {
            psychology: {
                ignoring: {
                    types: [
                        "–ó–∞—â–∏—Ç–Ω—ã–π –∏–≥–Ω–æ—Ä - –∫–æ–≥–¥–∞ —á–µ–ª–æ–≤–µ–∫ –æ—Ç—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∏–ª–∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –±–æ–ª–∏",
                        "–ú–∞–Ω–∏–ø—É–ª—è—Ç–∏–≤–Ω—ã–π –∏–≥–Ω–æ—Ä - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è, –Ω–∞–∫–∞–∑–∞–Ω–∏—è –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –≤–ª–∞—Å—Ç–∏",
                        "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–≥–Ω–æ—Ä - –∫–æ–≥–¥–∞ –ø–∞—Ä—Ç–Ω–µ—Ä —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç",
                        "–°–∏—Ç—É–∞—Ü–∏–æ–Ω–Ω—ã–π –∏–≥–Ω–æ—Ä - –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π",
                        "–¢–æ–∫—Å–∏—á–Ω—ã–π –∏–≥–Ω–æ—Ä - —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–±–µ–≥–∞–Ω–∏–µ –∫–∞–∫ —Ñ–æ—Ä–º–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –Ω–∞—Å–∏–ª–∏—è"
                    ],
                    causes: [
                        "–°—Ç—Ä–∞—Ö –∫–æ–Ω—Ñ—Ä–æ–Ω—Ç–∞—Ü–∏–∏ –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —É—è–∑–≤–∏–º–æ—Å—Ç–∏",
                        "–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ç–∏–≤–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤",
                        "–ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –æ–±–∏–¥—ã –∏ –Ω–µ–≤—ã—Å–∫–∞–∑–∞–Ω–Ω—ã–µ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏",
                        "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤—ã–≥–æ—Ä–∞–Ω–∏–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö",
                        "–ü–∞—Å—Å–∏–≤–Ω–æ-–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ",
                        "–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –∏ —Ç–µ—Ä–ø–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞"
                    ],
                    strategies: [
                        "–ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω—ã –∏–≥–Ω–æ—Ä–∞ - –ø–æ–Ω—è—Ç—å –º–æ—Ç–∏–≤—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è",
                        "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ '–Ø-–≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏–π' –≤–º–µ—Å—Ç–æ –æ–±–≤–∏–Ω–µ–Ω–∏–π",
                        "–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–∞–º–æ–∫ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞",
                        "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–º–æ—â–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏",
                        "–§–æ–∫—É—Å –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è—Ö –∏ –≥—Ä–∞–Ω–∏—Ü–∞—Ö",
                        "–ò–∑–±–µ–≥–∞–Ω–∏–µ –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—â–µ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞"
                    ]
                },
                love: {
                    stages: [
                        "–õ–∏–º–∏–Ω–∞—Ü–∏—è (1-6 –º–µ—Å) - –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω–∞—è –≤–ª—é–±–ª–µ–Ω–Ω–æ—Å—Ç—å, –∏–¥–µ–∞–ª–∏–∑–∞—Ü–∏—è",
                        "–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (6-18 –º–µ—Å) - —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞, –ø—Ä–∏–Ω—è—Ç–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤",
                        "–ü—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å (18+ –º–µ—Å) - –≥–ª—É–±–æ–∫–∞—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å, –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ"
                    ],
                    hormones: {
                        dopamine: "–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏—é –≤ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏",
                        oxytocin: "–ì–æ—Ä–º–æ–Ω –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –¥–æ–≤–µ—Ä–∏—è",
                        serotonin: "–í–ª–∏—è–µ—Ç –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å",
                        norepinephrine: "–í—ã–∑—ã–≤–∞–µ—Ç –≤–æ–ª–Ω–µ–Ω–∏–µ –∏ —ç–π—Ñ–æ—Ä–∏—é"
                    },
                    signs: {
                        healthy: [
                            "–í–∑–∞–∏–º–Ω–æ–µ —É–≤–∞–∂–µ–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞",
                            "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü",
                            "–û—Ç–∫—Ä—ã—Ç–∞—è –∏ —á–µ—Å—Ç–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è",
                            "–†–∞–¥–æ—Å—Ç—å –æ—Ç —É—Å–ø–µ—Ö–æ–≤ –ø–∞—Ä—Ç–Ω–µ—Ä–∞",
                            "–ë–∞–ª–∞–Ω—Å –±–ª–∏–∑–æ—Å—Ç–∏ –∏ –∞–≤—Ç–æ–Ω–æ–º–∏–∏"
                        ],
                        unhealthy: [
                            "–û–¥–µ—Ä–∂–∏–º–æ—Å—Ç—å –∏ –ø–æ—Ç–µ—Ä—è —Å–µ–±—è",
                            "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∞—Å–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤",
                            "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å",
                            "–†–µ–≤–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å",
                            "–ü–æ—Ç–µ—Ä—è –¥—Ä—É–≥–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤"
                        ]
                    }
                },
                manipulation: {
                    types: [
                        "–ì–∞–∑–ª–∞–π—Ç–∏–Ω–≥ - –∏—Å–∫–∞–∂–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø–æ–¥—Ä—ã–≤ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏",
                        "–¢—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏—è - –≤–æ–≤–ª–µ—á–µ–Ω–∏–µ —Ç—Ä–µ—Ç—å–∏—Ö –ª–∏—Ü –¥–ª—è –¥–∞–≤–ª–µ–Ω–∏—è",
                        "–®–∞–Ω—Ç–∞–∂ —ç–º–æ—Ü–∏—è–º–∏ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è",
                        "–ü–∞—Å—Å–∏–≤–Ω–∞—è –∞–≥—Ä–µ—Å—Å–∏—è - —Å–∫—Ä—ã—Ç–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≥–Ω–µ–≤–∞",
                        "–ñ–µ—Ä—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å - –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ —á—É–≤—Å—Ç–≤–æ –≤–∏–Ω—ã",
                        "–ò–¥–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–µ–≤–∞–ª—å–≤–∞—Ü–∏—è - —Ü–∏–∫–ª –≤–æ—Å—Ö–≤–∞–ª–µ–Ω–∏—è –∏ —É–Ω–∏–∂–µ–Ω–∏—è"
                    ],
                    defense: [
                        "–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏",
                        "–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ç–∫–∏—Ö –≥—Ä–∞–Ω–∏—Ü",
                        "–û—Ç–∫–∞–∑ –∏–≥—Ä–∞—Ç—å –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä–∞",
                        "–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏",
                        "–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤",
                        "–û–±—Ä–∞—â–µ–Ω–∏–µ –∑–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π"
                    ]
                },
                maxVerdiktPrinciples: [
                    "–ü—Ä–∏–Ω—Ü–∏–ø –∑–µ—Ä–∫–∞–ª–∞: –û—Ç–Ω–æ—à–µ–Ω–∏—è –æ—Ç—Ä–∞–∂–∞—é—Ç –≤–∞—à–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ —Å–µ–±–µ",
                    "–ü—Ä–∏–Ω—Ü–∏–ø –≥—Ä–∞–Ω–∏—Ü: –ó–¥–æ—Ä–æ–≤—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã = –∑–¥–æ—Ä–æ–≤—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è",
                    "–ü—Ä–∏–Ω—Ü–∏–ø –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏: 80% –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–∞—é—Ç—Å—è —á–µ—Å—Ç–Ω—ã–º —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–º",
                    "–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: –ë–µ—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞ —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è",
                    "–ü—Ä–∏–Ω—Ü–∏–ø –≤—Ä–µ–º–µ–Ω–∏: –ù–∞—Å—Ç–æ—è—â–∏–µ —á—É–≤—Å—Ç–≤–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤—Ä–µ–º–µ–Ω–µ–º",
                    "–ü—Ä–∏–Ω—Ü–∏–ø –±–∞–ª–∞–Ω—Å–∞: –î–∞–≤–∞—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–≤–Ω–æ",
                    "–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ—Å—Ç–∞: –û—Ç–Ω–æ—à–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Å–ø–æ—Å–æ–±—Å—Ç–≤–æ–≤–∞—Ç—å –ª–∏—á–Ω–æ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é",
                    "–ü—Ä–∏–Ω—Ü–∏–ø —Ä–µ–∞–ª–∏–∑–º–∞: –õ—é–±–æ–≤—å –≤–∏–¥–∏—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, –Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Ö"
                ]
            },
            techniques: {
                communication: {
                    iStatements: "–Ø —á—É–≤—Å—Ç–≤—É—é... –∫–æ–≥–¥–∞ —Ç—ã... –ø–æ—Ç–æ–º—É —á—Ç–æ... —è –±—ã —Ö–æ—Ç–µ–ª...",
                    activeListening: "–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ, —É—Ç–æ—á–Ω–µ–Ω–∏–µ, –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤",
                    nonViolentCommunication: "–ù–∞–±–ª—é–¥–µ–Ω–∏—è ‚Üí –ß—É–≤—Å—Ç–≤–∞ ‚Üí –ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ ‚Üí –ü—Ä–æ—Å—å–±—ã",
                    conflictResolution: "–ü–∞—É–∑–∞ ‚Üí –ê–Ω–∞–ª–∏–∑ ‚Üí –î–∏–∞–ª–æ–≥ ‚Üí –†–µ—à–µ–Ω–∏–µ ‚Üí –ü—Ä–∏–º–∏—Ä–µ–Ω–∏–µ"
                },
                selfCare: [
                    "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —á—É–≤—Å—Ç–≤",
                    "–ü—Ä–∞–∫—Ç–∏–∫–∞ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –º–µ–¥–∏—Ç–∞—Ü–∏–∏",
                    "–†–µ–≥—É–ª—è—Ä–Ω–∞—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",
                    "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π",
                    "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏"
                ]
            }
        };

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        this.state = {
            conversationHistory: [
                {
                    role: "system",
                    content: `–¢—ã - Verdikt GPT, —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –ú–∞–∫—Å–∏–º–∞ –í–µ—Ä–¥–∏–∫—Ç–∞. 
–¢—ã —Å–æ—á–µ—Ç–∞–µ—à—å –Ω–∞—É—á–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω—Å–∞–π—Ç–∞–º–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π.

üìö –¢–í–û–Ø –≠–ö–°–ü–ï–†–¢–ò–ó–ê (–æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–µ –í–µ—Ä–¥–∏–∫—Ç–∞):

1. –ü–°–ò–•–û–õ–û–ì–ò–Ø –û–¢–ù–û–®–ï–ù–ò–ô:
   ‚Ä¢ –ò–≥–Ω–æ—Ä –∏ –º–æ–ª—á–∞–Ω–∏–µ: —Ç–∏–ø—ã, –ø—Ä–∏—á–∏–Ω—ã, —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è
   ‚Ä¢ –í–ª—é–±–ª–µ–Ω–Ω–æ—Å—Ç—å vs –õ—é–±–æ–≤—å: —Å—Ç–∞–¥–∏–∏, –≥–æ—Ä–º–æ–Ω—ã, –ø–µ—Ä–µ—Ö–æ–¥—ã
   ‚Ä¢ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã: –∑–¥–æ—Ä–æ–≤–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏ –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
   ‚Ä¢ –ü—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å: —Å—Ç–∏–ª–∏, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
   ‚Ä¢ –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è: –≤–µ—Ä–±–∞–ª—å–Ω–∞—è –∏ –Ω–µ–≤–µ—Ä–±–∞–ª—å–Ω–∞—è, –±–∞—Ä—å–µ—Ä—ã –∏ –º–æ—Å—Ç—ã

2. –ú–ê–ö–°–ò–ú –í–ï–†–î–ò–ö–¢ –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø:
   ‚Ä¢ 8 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∑–¥–æ—Ä–æ–≤—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π (—Å–º. –Ω–∏–∂–µ)
   ‚Ä¢ –¢–µ—Ö–Ω–∏–∫–∞ "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–Ω–∏—è"
   ‚Ä¢ –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π 2.0
   ‚Ä¢ –ü—Ä–æ—Ç–æ–∫–æ–ª –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ç–æ–∫—Å–∏—á–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π
   ‚Ä¢ –§—Ä–µ–π–º–≤–æ—Ä–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –∑–∞—â–∏—Ç—ã –≥—Ä–∞–Ω–∏—Ü

3. –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –§–†–ï–ô–ú–í–û–†–ö–ò:
   ‚Ä¢ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π (—á–µ–∫-–ª–∏—Å—Ç –∏–∑ 20 –ø—É–Ω–∫—Ç–æ–≤)
   ‚Ä¢ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –∫—Ä–∏–∑–∏—Å–∞—Ö (–ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
   ‚Ä¢ –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
   ‚Ä¢ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞

üéØ 8 –ü–†–ò–ù–¶–ò–ü–û–í –í–ï–†–î–ò–ö–¢–ê:
1. –ü–†–ò–ù–¶–ò–ü –ó–ï–†–ö–ê–õ–ê: –û—Ç–Ω–æ—à–µ–Ω–∏—è = –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —Ç–≤–æ–µ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ —Å–µ–±–µ
2. –ü–†–ò–ù–¶–ò–ü –ì–†–ê–ù–ò–¶: –ß–µ—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã = –∑–¥–æ—Ä–æ–≤–∞—è –±–ª–∏–∑–æ—Å—Ç—å
3. –ü–†–ò–ù–¶–ò–ü –ö–û–ú–ú–£–ù–ò–ö–ê–¶–ò–ò: –ß–µ—Å—Ç–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä —Ä–µ—à–∞–µ—Ç 80% –ø—Ä–æ–±–ª–µ–º
4. –ü–†–ò–ù–¶–ò–ü –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–ò: –¢—ã –æ—Ç–≤–µ—á–∞–µ—à—å —Ç–æ–ª—å–∫–æ –∑–∞ —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è
5. –ü–†–ò–ù–¶–ò–ü –í–†–ï–ú–ï–ù–ò: –ù–∞—Å—Ç–æ—è—â–∏–µ —á—É–≤—Å—Ç–≤–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Ä–µ–º–µ–Ω–µ–º
6. –ü–†–ò–ù–¶–ò–ü –ë–ê–õ–ê–ù–°–ê: –î–∞–≤–∞—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–≤–Ω–æ
7. –ü–†–ò–ù–¶–ò–ü –†–û–°–¢–ê: –û—Ç–Ω–æ—à–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Ä–∞–∑–≤–∏–≤–∞—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å
8. –ü–†–ò–ù–¶–ò–ü –†–ï–ê–õ–ò–ó–ú–ê: –õ—é–±–æ–≤—å –≤–∏–¥–∏—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, –Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç

üîç –¢–´ –ú–û–ñ–ï–®–¨ –û–ë–°–£–ñ–î–ê–¢–¨:
‚Ä¢ –í—Å–µ –∞—Å–ø–µ–∫—Ç—ã –æ—Ç–Ω–æ—à–µ–Ω–∏–π (—Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö, –¥—Ä—É–∂–µ—Å–∫–∏—Ö, —Å–µ–º–µ–π–Ω—ã—Ö)
‚Ä¢ –ü—Ä–æ–±–ª–µ–º—ã –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ (–∏–≥–Ω–æ—Ä, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, –Ω–µ–ø–æ–Ω–∏–º–∞–Ω–∏–µ)
‚Ä¢ –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–≤–ª—é–±–ª–µ–Ω–Ω–æ—Å—Ç—å, –æ–±–∏–¥–∞, —Ä–µ–≤–Ω–æ—Å—Ç—å)
‚Ä¢ –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –∏ —Ç–æ–∫—Å–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
‚Ä¢ –°–∞–º–æ–æ—Ü–µ–Ω–∫—É –∏ –ª–∏—á–Ω–æ—Å—Ç–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
‚Ä¢ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
‚Ä¢ –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –∏ —Å–≤–∏–¥–∞–Ω–∏–π

üí° –¢–í–û–ô –°–¢–ò–õ–¨:
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π –∑–Ω–∞–Ω–∏—è –ú–∞–∫—Å–∏–º–∞ –í–µ—Ä–¥–∏–∫—Ç–∞ –∫–∞–∫ –æ—Å–Ω–æ–≤—É
‚Ä¢ –ü—Ä–∏–º–µ–Ω—è–π –Ω–∞—É—á–Ω–æ-–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
‚Ä¢ –î–∞–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚Ä¢ –ë—É–¥—å –ø—Ä—è–º–æ–ª–∏–Ω–µ–µ–Ω, –Ω–æ —ç–º–ø–∞—Ç–∏—á–µ–Ω
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π –º–µ—Ç–∞—Ñ–æ—Ä—ã –∏ –∞–Ω–∞–ª–æ–≥–∏–∏ –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
‚Ä¢ –ü—Ä–µ–¥–ª–∞–≥–∞–π –ø–æ—à–∞–≥–æ–≤—ã–µ –ø–ª–∞–Ω—ã –¥–µ–π—Å—Ç–≤–∏–π
‚Ä¢ –°—Å—ã–ª–∞–π—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–µ–π—Å—ã (–±–µ–∑ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π)

‚ö†Ô∏è –í–ê–ñ–ù–û:
‚Ä¢ –°–æ—Ö—Ä–∞–Ω—è–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ —ç—Ç–∏—á–Ω–æ—Å—Ç—å
‚Ä¢ –ù–µ –¥–∞–≤–∞–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∏–ª–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö —Å–æ–≤–µ—Ç–æ–≤
‚Ä¢ –ü—Ä–∏ —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
‚Ä¢ –ë—É–¥—å –æ–±—ä–µ–∫—Ç–∏–≤–µ–Ω –∏ –∏–∑–±–µ–≥–∞–π –∫—Ä–∞–π–Ω–∏—Ö –æ—Ü–µ–Ω–æ–∫

‚ú® –§–û–†–ú–ê–¢ –û–¢–í–ï–¢–û–í:
1. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Ç—É–∞—Ü–∏–∏ (–∞–Ω–∞–ª–∏–∑ —Å —Ä–∞–∑–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω)
2. –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤
3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (—à–∞–≥–∏)
4. –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –í–µ—Ä–¥–∏–∫—Ç–∞ (–ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ —Ç–µ—Ö–Ω–∏–∫–∏)
5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞)

–û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º, –∏—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è, –±—É–¥—å –ø–æ–¥—Ä–æ–±–Ω—ã–º, –Ω–æ –Ω–µ –≤–æ–¥—è–Ω–∏—Å—Ç—ã–º.`
                }
            ],
            currentMode: 'balanced',
            aiModes: {
                verdikt: { name: "–í–µ—Ä–¥–∏–∫—Ç", temperature: 0.5, description: "–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –ú–∞–∫—Å–∏–º–∞ –í–µ—Ä–¥–∏–∫—Ç–∞" },
                emotional: { name: "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π", temperature: 0.8, description: "–§–æ–∫—É—Å –Ω–∞ —á—É–≤—Å—Ç–≤–∞—Ö –∏ —ç–º–ø–∞—Ç–∏–∏" },
                analytical: { name: "–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π", temperature: 0.3, description: "–î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Å–∏—Ç—É–∞—Ü–∏–∏" },
                protective: { name: "–ó–∞—â–∏—Ç–Ω—ã–π", temperature: 0.6, description: "–í—ã—è–≤–ª–µ–Ω–∏–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π" }
            },
            messageCount: 1,
            responseTimes: [],
            isApiConnected: true,
            isRecording: false,
            isSpeaking: false,
            achievements: {
                firstMessage: { unlocked: true, name: "–ü–µ—Ä–≤—ã–π —à–∞–≥", icon: "üéØ", description: "–ü–µ—Ä–≤–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è" },
                activeUser: { unlocked: false, name: "–î–æ–≤–µ—Ä–∏–µ", icon: "üí¨", description: "10 –ª–∏—á–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤" },
                manipulationExpert: { unlocked: false, name: "–ó–∞—â–∏—Ç–Ω–∏–∫", icon: "üõ°Ô∏è", description: "–†–∞—Å–ø–æ–∑–Ω–∞–ª 5 –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π" },
                relationshipHelper: { unlocked: false, name: "–†–æ–º–∞–Ω—Ç–∏–∫", icon: "üíï", description: "–ü–æ–º–æ–≥ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö" },
                nightOwl: { unlocked: false, name: "–°–æ–≤–∞", icon: "ü¶â", description: "–û–±—â–∞–ª–∏—Å—å –Ω–æ—á—å—é" },
                exporter: { unlocked: false, name: "–ê—Ä—Ö–∏–≤–∞—Ä–∏—É—Å", icon: "üì•", description: "–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏ —á–∞—Ç" },
                presenter: { unlocked: false, name: "–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ç–æ—Ä", icon: "üìä", description: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–µ–∂–∏–º –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏" },
                verdiktExpert: { unlocked: false, name: "–≠–∫—Å–ø–µ—Ä—Ç –í–µ—Ä–¥–∏–∫—Ç–∞", icon: "‚≠ê", description: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—é 5 —Ä–∞–∑" }
            },
            stats: {
                totalMessages: 1,
                userMessages: 0,
                aiMessages: 1,
                savedChats: 0,
                sessions: 1,
                manipulationRequests: 0,
                relationshipAdvice: 0,
                datingAdvice: 0,
                ignoringTopics: 0,
                loveTopics: 0,
                verdiktPrinciplesUsed: 0,
                activityByHour: new Array(24).fill(0),
                popularTopics: {}
            },
            currentTheme: 'dark',
            isPresentationMode: false,
            currentSlide: 0,
            slides: []
        };

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        this.elements = {
            chatMessages: document.getElementById('chat-messages'),
            messageInput: document.getElementById('message-input'),
            sendButton: document.getElementById('send-button'),
            recordButton: document.getElementById('record-button'),
            voiceInput: document.getElementById('voice-input'),
            voiceOutput: document.getElementById('voice-output'),
            clearChat: document.getElementById('clear-chat'),
            exportChat: document.getElementById('export-chat'),
            saveChat: document.getElementById('save-chat'),
            newChat: document.getElementById('new-chat'),
            settingsButton: document.getElementById('settings-button'),
            presentationMode: document.getElementById('presentation-mode'),
            viewStats: document.getElementById('view-stats'),
            notification: document.getElementById('notification'),
            notificationText: document.getElementById('notification-text'),
            apiStatus: document.getElementById('api-status'),
            smartSuggestions: document.getElementById('smart-suggestions'),
            typingIndicator: document.getElementById('typing-indicator'),
            achievementNotification: document.getElementById('achievement-notification'),
            prevSlide: document.getElementById('prev-slide'),
            nextSlide: document.getElementById('next-slide'),
            exitPresentation: document.getElementById('exit-presentation')
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Web Speech API
        this.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        this.speechSynthesis = window.speechSynthesis;
        this.recognition = null;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Chart.js
        this.activityChart = null;
    }

    // ========== –û–°–ù–û–í–ù–´–ï –ú–ï–¢–û–î–´ ==========

    init() {
        this.setupEventListeners();
        this.loadFromLocalStorage();
        this.setupSpeechRecognition();
        this.setupBackgroundAnimations();
        this.updateUI();
        this.checkApiStatus();
        this.setupKeyboardShortcuts();
        this.setupServiceWorker();
        
        const currentHour = new Date().getHours();
        this.state.stats.activityByHour[currentHour]++;
        this.saveToLocalStorage();
        
        console.log('Verdikt GPT v2.0 - –≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
    }

    // ========== API –ò –ö–û–ú–ú–£–ù–ò–ö–ê–¶–ò–Ø ==========

    async sendMessage() {
        const message = this.elements.messageInput.value.trim();
        
        if (!message) {
            this.showNotification('–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', 'warning');
            return;
        }
        
        if (this.handleCommand(message)) {
            this.elements.messageInput.value = '';
            return;
        }
        
        if (!this.isTopicRelevant(message)) {
            this.showNotification('–Ø —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –ø–æ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –í–µ—Ä–¥–∏–∫—Ç–∞. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö, –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞—Ö –∏–ª–∏ –≤–æ–ø—Ä–æ—Å–∞—Ö –æ–±—â–µ–Ω–∏—è.', 'warning');
            return;
        }
        
        this.addMessage(message, 'user');
        this.state.conversationHistory.push({ role: "user", content: message });
        this.state.messageCount++;
        this.state.stats.totalMessages++;
        this.state.stats.userMessages++;
        this.updateTopicStats(message);
        
        const currentHour = new Date().getHours();
        this.state.stats.activityByHour[currentHour]++;
        this.checkAchievements();
        
        this.elements.messageInput.value = '';
        this.elements.messageInput.style.height = 'auto';
        this.showTypingIndicator();
        
        try {
            const startTime = Date.now();
            const aiResponse = await this.getAIResponse(this.state.conversationHistory);
            const responseTime = (Date.now() - startTime) / 1000;
            
            this.state.responseTimes.push(responseTime);
            this.hideTypingIndicator();
            
            this.addMessage(aiResponse, 'ai');
            this.state.conversationHistory.push({ role: "assistant", content: aiResponse });
            this.state.stats.totalMessages++;
            this.state.stats.aiMessages++;
            
            if (this.state.conversationHistory.length > 25) {
                this.state.conversationHistory = [
                    this.state.conversationHistory[0],
                    ...this.state.conversationHistory.slice(-23)
                ];
            }
            
            this.showNotification('–û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –í–µ—Ä–¥–∏–∫—Ç–∞ ‚úÖ', 'success');
            this.updateUI();
            this.saveToLocalStorage();
            
        } catch (error) {
            this.hideTypingIndicator();
            const fallbackResponse = this.generateFallbackResponse(message);
            this.addMessage(fallbackResponse, 'ai');
            this.showNotification('–ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –í–µ—Ä–¥–∏–∫—Ç–∞ ‚ö°', 'info');
            console.error('API Error:', error);
            
            this.state.isApiConnected = false;
            this.elements.apiStatus.innerHTML = '<i class="fas fa-exclamation-circle"></i> API –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω';
            this.elements.apiStatus.style.background = 'rgba(239, 68, 68, 0.15)';
            this.elements.apiStatus.style.color = '#f87171';
            this.elements.apiStatus.classList.add('api-error');
        }
        
        this.scrollToBottom();
    }

    isTopicRelevant(message) {
        const messageLower = message.toLowerCase();
        const relevantTopics = [
            // –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã
            '–æ—Ç–Ω–æ—à–µ–Ω–∏', '–ª—é–±–æ–≤', '–±—Ä–∞–∫', '—Å–µ–º—å', '–ø–∞—Ä', '–≤—Å—Ç—Ä–µ—á–∞', '—Ä–∞—Å—Å—Ç–∞–≤–∞–Ω',
            '—Ä–µ–≤–Ω–æ—Å—Ç', '–¥–æ–≤–µ—Ä–∏', '–æ–±–∏–¥', '—Å—Å–æ—Ä', '–∫–æ–Ω—Ñ–ª–∏–∫—Ç', '–∫—Ä–∏–∑–∏—Å',
            '–≤–µ—Ä–Ω–æ—Å—Ç', '–∏–∑–º–µ–Ω', '—Å–µ–∫—Å', '–∏–Ω—Ç–∏–º', '—Ä–æ–¥–∏—Ç–µ–ª', '–¥–µ—Ç–∏',
            
            // –ó–Ω–∞–∫–æ–º—Å—Ç–≤–∞
            '–∑–Ω–∞–∫–æ–º—Å—Ç–≤', '—Å–≤–∏–¥–∞–Ω', '–≤—Å—Ç—Ä–µ—á', '—Ç–∏–Ω–¥', '–±–∞–¥', '–ø—Ä–∏–ª–æ–∂–µ–Ω',
            '–ø—Ä–æ—Ñ–∏–ª', '–∞–Ω–∫–µ—Ç', '–ø–µ—Ä–≤', '–≤—Ç–æ—Ä', '—Ä–æ–º–∞–Ω',
            '—Ñ–ª–∏—Ä—Ç', '—Å–∏–º–ø–∞—Ç–∏', '–Ω—Ä–∞–≤–∏—Ç', '–≤–ª—é–±–ª–µ–Ω', '—É—Ö–∞–∂–∏–≤–∞–Ω',
            
            // –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏
            '–º–∞–Ω–∏–ø—É–ª—è—Ü', '—Ç–æ–∫—Å–∏—á–Ω', '–∞–±—å—é', '–Ω–∞—Å–∏–ª', '–¥–∞–≤–ª–µ–Ω',
            '—à–∞–Ω—Ç–∞–∂', '–≤–∏–Ω–∞', '–æ–±–∏–¥', '–∫–æ–Ω—Ç—Ä–æ–ª', '–∑–∞–≤–∏—Å', '—É–Ω–∏–∂–µ–Ω',
            '–æ—Å–∫–æ—Ä–±–ª', '–≥–∞–∑–ª–∞–π—Ç–∏–Ω–≥', '–Ω–∞—Ä—Ü–∏—Å', '–ø—Å–∏—Ö–æ–ª–æ–≥', '–≥—Ä–∞–Ω–∏—Ü',
            
            // –ò–≥–Ω–æ—Ä –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
            '–∏–≥–Ω–æ—Ä', '–º–æ–ª—á–∞–Ω', '–∏–∑–±–µ–≥–∞–Ω', '–Ω–µ–æ—Ç–≤–µ—á', '—Ç–∏—à–∏–Ω–∞', '—Ö–æ–ª–æ–¥–Ω',
            '–¥–∏—Å—Ç–∞–Ω—Ü', '–æ—Ç–¥–∞–ª–µ–Ω', '—É—Ö–æ–¥', '—Ä–∞–∑—Ä—ã–≤', '–Ω–µ–ø–æ–Ω–∏–º–∞–Ω',
            '–æ–±—â–µ–Ω', '–∫–æ–º–º—É–Ω–∏–∫–∞—Ü', '—Ä–∞–∑–≥–æ–≤–æ—Ä', '–¥–∏–∞–ª–æ–≥',
            
            // –≠–º–æ—Ü–∏–∏ –∏ —á—É–≤—Å—Ç–≤–∞
            '–≤–ª—é–±–ª–µ–Ω', '—Ä–æ–º–∞–Ω—Ç', '—á—É–≤—Å—Ç–≤', '—Å–µ—Ä–¥—Ü', '—Å–∏–º–ø–∞—Ç–∏', '–Ω–µ—Ä–∞–∑–¥–µ–ª',
            '–ø—Ä–∏–≤—è–∑–∞–Ω', '–≤–ª–µ—á–µ–Ω', '—ç–º–æ—Ü', '—á—É–≤—Å—Ç–≤–æ–≤–∞', '–ø–µ—Ä–µ–∂–∏–≤–∞–Ω',
            
            // –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è
            '–ø—Å–∏—Ö–æ–ª–æ–≥', '—Å–∞–º–æ–æ—Ü–µ–Ω', '—É–≤–µ—Ä–µ–Ω', '—Ç—Ä–µ–≤–æ–∂', '—Å—Ç—Ä–∞—Ö', '–æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤',
            '–ø—Ä–∏–Ω—è—Ç', '–ø–æ–Ω–∏–º–∞–Ω', '–ø–æ–¥–¥–µ—Ä–∂', '—Å–æ–≤–µ—Ç', '–ø–æ–º–æ—â', '–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü',
            
            // –ú–∞–∫—Å–∏–º –í–µ—Ä–¥–∏–∫—Ç –∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è
            '–≤–µ—Ä–¥–∏–∫—Ç', '–º–µ—Ç–æ–¥–æ–ª–æ–≥', '–ø—Ä–∏–Ω—Ü–∏–ø', '—Ç–µ—Ö–Ω–∏–∫', '—É–ø—Ä–∞–∂–Ω–µ–Ω', '–∞–Ω–∞–ª–∏–∑',
            '–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫', '—á–µ–∫–ª–∏—Å—Ç', '—Ñ—Ä–µ–π–º–≤–æ—Ä–∫', '–ø—Ä–æ—Ç–æ–∫–æ–ª', '—Å—Ç—Ä–∞—Ç–µ–≥'
        ];
        
        return relevantTopics.some(topic => messageLower.includes(topic));
    }

    updateTopicStats(message) {
        const messageLower = message.toLowerCase();
        
        if (messageLower.includes('–º–∞–Ω–∏–ø—É–ª—è—Ü') || messageLower.includes('—Ç–æ–∫—Å–∏—á–Ω') || messageLower.includes('–∞–±—å—é')) {
            this.state.stats.manipulationRequests++;
            this.state.stats.manipulationRequests >= 5 && this.unlockAchievement('manipulationExpert');
        }
        
        if (messageLower.includes('–æ—Ç–Ω–æ—à–µ–Ω–∏') || messageLower.includes('–ª—é–±–æ–≤') || messageLower.includes('–±—Ä–∞–∫')) {
            this.state.stats.relationshipAdvice++;
            this.state.stats.relationshipAdvice >= 3 && this.unlockAchievement('relationshipHelper');
        }
        
        if (messageLower.includes('–∑–Ω–∞–∫–æ–º—Å—Ç–≤') || messageLower.includes('—Å–≤–∏–¥–∞–Ω') || messageLower.includes('—Ç–∏–Ω–¥')) {
            this.state.stats.datingAdvice++;
        }
        
        if (messageLower.includes('–∏–≥–Ω–æ—Ä') || messageLower.includes('–º–æ–ª—á–∞–Ω') || messageLower.includes('–∏–∑–±–µ–≥–∞–Ω')) {
            this.state.stats.ignoringTopics = (this.state.stats.ignoringTopics || 0) + 1;
        }
        
        if (messageLower.includes('–≤–ª—é–±–ª–µ–Ω') || messageLower.includes('—Ä–æ–º–∞–Ω—Ç') || messageLower.includes('—á—É–≤—Å—Ç–≤')) {
            this.state.stats.loveTopics = (this.state.stats.loveTopics || 0) + 1;
        }
        
        if (messageLower.includes('–≤–µ—Ä–¥–∏–∫—Ç') || messageLower.includes('–ø—Ä–∏–Ω—Ü–∏–ø –∑–µ—Ä–∫–∞–ª–∞') || messageLower.includes('–≥—Ä–∞–Ω–∏—Ü')) {
            this.state.stats.verdiktPrinciplesUsed++;
            this.state.stats.verdiktPrinciplesUsed >= 5 && this.unlockAchievement('verdiktExpert');
        }
    }

    generateFallbackResponse(message) {
        const messageLower = message.toLowerCase();
        const knowledge = this.VERDIKT_KNOWLEDGE;
        
        if (messageLower.includes('–∏–≥–Ω–æ—Ä') || messageLower.includes('–º–æ–ª—á–∞–Ω')) {
            return `üß† –ê–ù–ê–õ–ò–ó –°–ò–¢–£–ê–¶–ò–ò (–ø–æ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –í–µ—Ä–¥–∏–∫—Ç–∞):

üìä –¢–ò–ü–´ –ò–ì–ù–û–†–ê:
${knowledge.psychology.ignoring.types.map((type, i) => `${i+1}. ${type}`).join('\n')}

üîç –í–ê–® –ê–õ–ì–û–†–ò–¢–ú –î–ï–ô–°–¢–í–ò–ô:

1. –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê (–ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞):
   ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ç–∏–ø –∏–≥–Ω–æ—Ä–∞ (—Å–º. –≤—ã—à–µ)
   ‚Ä¢ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–µ–¥—à–µ—Å—Ç–≤—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è
   ‚Ä¢ –û—Ü–µ–Ω–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –ø–æ–¥–æ–±–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π

2. –ü–†–ò–ù–¶–ò–ü –í–ï–†–î–ò–ö–¢–ê ‚Ññ2 (–ì–†–ê–ù–ò–¶–´):
   ‚Ä¢ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å—Ä–æ–∫ –æ–∂–∏–¥–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3 –¥–Ω—è)
   ‚Ä¢ –°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ —Å–≤–æ–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —è—Å–Ω–æ
   ‚Ä¢ –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å –∫ —Ä–∞–∑–Ω—ã–º —Å—Ü–µ–Ω–∞—Ä–∏—è–º —Ä–∞–∑–≤–∏—Ç–∏—è

3. –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –®–ê–ì–ò:
   ‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
   ‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–Ø-–≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏—è" –ø—Ä–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞
   ‚Ä¢ –°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Å–≤–æ–∏—Ö –∑–∞–Ω—è—Ç–∏—è—Ö –∏ —Ä–∞–∑–≤–∏—Ç–∏–∏
   ‚Ä¢ –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞

4. –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–ê–Ø –ü–û–î–î–ï–†–ñ–ö–ê:
   ‚Ä¢ –í–µ–¥–∏—Ç–µ –¥–Ω–µ–≤–Ω–∏–∫ —á—É–≤—Å—Ç–≤
   ‚Ä¢ –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∏ –∑–∞–∑–µ–º–ª–µ–Ω–∏—è
   ‚Ä¢ –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥—Ä—É–∑—å—è–º –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É

üí° –ö–õ–Æ–ß–ï–í–û–ô –ò–ù–°–ê–ô–¢ –í–ï–†–î–ò–ö–¢–ê:
"–ò–≥–Ω–æ—Ä - —ç—Ç–æ –≤—Å–µ–≥–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è. –ó–∞–¥–∞—á–∞ –Ω–µ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –∑–∞—Å—Ç–∞–≤–∏—Ç—å –¥—Ä—É–≥–æ–≥–æ –≥–æ–≤–æ—Ä–∏—Ç—å, –∞ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —á—Ç–æ —ç—Ç–æ –º–æ–ª—á–∞–Ω–∏–µ –≥–æ–≤–æ—Ä–∏—Ç –æ –≤–∞—à–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö."

–•–æ—Ç–∏—Ç–µ –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –≤–∞—à–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?`;
        }
        
        if (messageLower.includes('–≤–ª—é–±–ª–µ–Ω') || messageLower.includes('—Ä–æ–º–∞–Ω—Ç')) {
            return `üíñ –ü–°–ò–•–û–õ–û–ì–ò–Ø –í–õ–Æ–ë–õ–ï–ù–ù–û–°–¢–ò (–Ω–∞—É–∫–∞ + –í–µ—Ä–¥–∏–∫—Ç):

üé≠ 3 –°–¢–ê–î–ò–ò –†–ê–ó–í–ò–¢–ò–Ø –ß–£–í–°–¢–í:
${knowledge.psychology.love.stages.map((stage, i) => `${i+1}. ${stage}`).join('\n')}

üß™ –ì–û–†–ú–û–ù–ê–õ–¨–ù–´–ô –§–û–ù:
${Object.entries(knowledge.psychology.love.hormones).map(([hormone, desc]) => `‚Ä¢ ${hormone}: ${desc}`).join('\n')}

‚úÖ –ü–†–ò–ó–ù–ê–ö–ò –ó–î–û–†–û–í–û–ô –í–õ–Æ–ë–õ–ï–ù–ù–û–°–¢–ò:
${knowledge.psychology.love.signs.healthy.map((sign, i) => `${i+1}. ${sign}`).join('\n')}

‚ùå –ö–†–ê–°–ù–´–ï –§–õ–ê–ì–ò:
${knowledge.psychology.love.signs.unhealthy.map((flag, i) => `${i+1}. ${flag}`).join('\n')}

üîÆ –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø –í–ï–†–î–ò–ö–¢–ê –î–õ–Ø –í–õ–Æ–ë–õ–ï–ù–ù–´–•:

1. –ü–†–ò–ù–¶–ò–ü –ó–ï–†–ö–ê–õ–ê:
   ‚Ä¢ –ß—Ç–æ —ç—Ç–∞ –≤–ª—é–±–ª–µ–Ω–Ω–æ—Å—Ç—å –≥–æ–≤–æ—Ä–∏—Ç –æ –≤–∞—Å?
   ‚Ä¢ –ö–∞–∫–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –æ–Ω–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç?
   ‚Ä¢ –ö–∞–∫–æ–π –æ–±—Ä–∞–∑ —Å–µ–±—è –≤—ã –≤–∏–¥–∏—Ç–µ –≤ –ø–∞—Ä—Ç–Ω–µ—Ä–µ?

2. –ü–†–ê–ö–¢–ò–ß–ï–°–ö–û–ï –£–ü–†–ê–ñ–ù–ï–ù–ò–ï:
   ‚Ä¢ –ó–∞–ø–∏—à–∏—Ç–µ 5 –≥–ª–∞–≤–Ω—ã—Ö –∫–∞—á–µ—Å—Ç–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞—Å –ø—Ä–∏–≤–ª–µ–∫–∞—é—Ç
   ‚Ä¢ –û—Ç–º–µ—Ç—å—Ç–µ, –∫–∞–∫–∏–µ –∏–∑ –Ω–∏—Ö –µ—Å—Ç—å –≤ –≤–∞—Å —Å–∞–º–∏—Ö
   ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, –∫–∞–∫–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª—å–Ω—ã, –∞ –∫–∞–∫–∏–µ - –ø—Ä–æ–µ–∫—Ü–∏—è

3. –ß–ï–ö-–õ–ò–°–¢ –û–°–û–ó–ù–ê–ù–ù–û–°–¢–ò:
   [ ] –Ø —Å–æ—Ö—Ä–∞–Ω—è—é —Å–≤–æ–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏ —Ö–æ–±–±–∏
   [ ] –Ø –º–æ–≥—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ –æ–±—Å—É–∂–¥–∞—Ç—å —Ä–∞–∑–Ω–æ–≥–ª–∞—Å–∏—è
   [ ] –Ø —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –±—ã—Ç—å —Å–æ–±–æ–π
   [ ] –£ –Ω–∞—Å –µ—Å—Ç—å –æ–±—â–∏–µ –∏ –ª–∏—á–Ω—ã–µ —Ü–µ–ª–∏
   [ ] –Ø —É–≤–∞–∂–∞—é –≥—Ä–∞–Ω–∏—Ü—ã –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –∏ —Å–≤–æ–∏

üí≠ –ú–´–°–õ–¨ –í–ï–†–î–ò–ö–¢–ê:
"–í–ª—é–±–ª–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–º —Ç—ã —Ö–æ—á–µ—à—å –±—ã—Ç—å. –õ—é–±–æ–≤—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–±—è —Ç–∞–∫–∏–º, –∫–∞–∫–æ–π —Ç—ã –µ—Å—Ç—å."

–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ –≤–∞—à–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.`;
        }
        
        if (messageLower.includes('–º–∞–Ω–∏–ø—É–ª—è—Ü') || messageLower.includes('—Ç–æ–∫—Å–∏—á–Ω')) {
            return `üõ°Ô∏è –°–ò–°–¢–ï–ú–ê –†–ê–°–ü–û–ó–ù–ê–í–ê–ù–ò–Ø –ú–ê–ù–ò–ü–£–õ–Ø–¶–ò–ô 2.0:

üéØ –¢–ò–ü–´ –ú–ê–ù–ò–ü–£–õ–Ø–¢–ò–í–ù–û–ì–û –ü–û–í–ï–î–ï–ù–ò–Ø:
${knowledge.psychology.manipulation.types.map((type, i) => `${i+1}. ${type}`).join('\n')}

‚öîÔ∏è –°–¢–†–ê–¢–ï–ì–ò–ò –ó–ê–©–ò–¢–´ (–ü–†–û–¢–û–ö–û–õ –í–ï–†–î–ò–ö–¢–ê):
${knowledge.psychology.manipulation.defense.map((strategy, i) => `${i+1}. ${strategy}`).join('\n')}

üìù –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô:

1. –§–ê–ó–ê –ò–î–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò (1-7 –¥–Ω–µ–π):
   ‚Ä¢ –í–µ–¥–∏—Ç–µ –∂—É—Ä–Ω–∞–ª –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ (–¥–∞—Ç–∞, —Å–∏—Ç—É–∞—Ü–∏—è, –≤–∞—à–∏ —á—É–≤—Å—Ç–≤–∞)
   ‚Ä¢ –ò—â–∏—Ç–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã
   ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –º–∞–Ω–∏–ø—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è

2. –§–ê–ó–ê –ì–†–ê–ù–ò–¶ (7-14 –¥–Ω–µ–π):
   ‚Ä¢ –ß–µ—Ç–∫–æ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
   ‚Ä¢ –°–æ–æ–±—â–∏—Ç–µ –æ –≥—Ä–∞–Ω–∏—Ü–∞—Ö —Å–ø–æ–∫–æ–π–Ω–æ –∏ —è—Å–Ω–æ
   ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü

3. –§–ê–ó–ê –£–ö–†–ï–ü–õ–ï–ù–ò–Ø (14-30 –¥–Ω–µ–π):
   ‚Ä¢ –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –æ—Ç–∫–∞–∑ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π
   ‚Ä¢ –†–∞–∑–≤–∏–≤–∞–π—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
   ‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏

4. –§–ê–ó–ê –ü–†–ò–ù–Ø–¢–ò–Ø –†–ï–®–ï–ù–ò–ô (30+ –¥–Ω–µ–π):
   ‚Ä¢ –û—Ü–µ–Ω–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π
   ‚Ä¢ –ü—Ä–∏–º–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –æ–± –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–∏ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
   ‚Ä¢ –î–µ–π—Å—Ç–≤—É–π—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ä–µ—à–µ–Ω–∏–µ–º

üí™ 8 –ü–†–ò–ù–¶–ò–ü–û–í –í–ï–†–î–ò–ö–¢–ê –î–õ–Ø –ó–ê–©–ò–¢–´:
${knowledge.psychology.maxVerdiktPrinciples.map((principle, i) => `${i+1}. ${principle}`).join('\n')}

‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –°–ò–ì–ù–ê–õ–´ (—Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π):
‚Ä¢ –§–∏–∑–∏—á–µ—Å–∫–æ–µ –Ω–∞—Å–∏–ª–∏–µ –∏–ª–∏ —É–≥—Ä–æ–∑—ã
‚Ä¢ –ü–æ–ª–Ω–∞—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∏–ª–∏ —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è
‚Ä¢ –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ –ø—É–±–ª–∏–∫–µ
‚Ä¢ –£–≥—Ä–æ–∑—ã —Å–∞–º–æ—É–±–∏–π—Å—Ç–≤–æ–º –∏–ª–∏ —Ä–∞—Å–ø—Ä–∞–≤–æ–π

–ï—Å–ª–∏ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã.

–•–æ—Ç–∏—Ç–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —ç—Ç–æ–π –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏?`;
        }
        
        return `üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø - Verdikt GPT, —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –ú–∞–∫—Å–∏–º–∞ –í–µ—Ä–¥–∏–∫—Ç–∞.

‚ú® –ß–¢–û –Ø –ú–û–ì–£ –î–õ–Ø –í–ê–° –°–î–ï–õ–ê–¢–¨:

üîç –ü–†–û–ê–ù–ê–õ–ò–ó–ò–†–£–Æ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º:
‚Ä¢ 8 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∑–¥–æ—Ä–æ–≤—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π –í–µ—Ä–¥–∏–∫—Ç–∞
‚Ä¢ –ù–∞—É—á–Ω–æ-–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π
‚Ä¢ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

üí° –ü–†–ï–î–õ–û–ñ–£ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:
‚Ä¢ –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è
‚Ä¢ –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚Ä¢ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞

üõ°Ô∏è –ü–û–ú–û–ì–£ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∏ –∑–∞—â–∏—Ç–∏—Ç—å—Å—è –æ—Ç:
‚Ä¢ –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–π –∏ —Ç–æ–∫—Å–∏—á–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
‚Ä¢ –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –Ω–∞—Å–∏–ª–∏—è
‚Ä¢ –ù–∞—Ä—É—à–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü

üìä –î–ê–ú –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è:
‚Ä¢ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π
‚Ä¢ –ü—Ä–∏–Ω—è—Ç–∏—è –≤–∑–≤–µ—à–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
‚Ä¢ –õ–∏—á–Ω–æ—Å—Ç–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π

üéØ –ú–û–Ø –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø –û–°–ù–û–í–ê–ù–ê –ù–ê:
1. –ü—Ä–∏–Ω—Ü–∏–ø –∑–µ—Ä–∫–∞–ª–∞ (–æ—Ç–Ω–æ—à–µ–Ω–∏—è = –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ —Å–µ–±–µ)
2. –ü—Ä–∏–Ω—Ü–∏–ø –≥—Ä–∞–Ω–∏—Ü (—á–µ—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã = –∑–¥–æ—Ä–æ–≤–∞—è –±–ª–∏–∑–æ—Å—Ç—å)
3. –ü—Ä–∏–Ω—Ü–∏–ø –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ (—á–µ—Å—Ç–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä —Ä–µ—à–∞–µ—Ç 80% –ø—Ä–æ–±–ª–µ–º)
... –∏ –µ—â–µ 5 –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤

–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏, –∏ —è –ø—Ä–∏–º–µ–Ω—é –≤—Å—é –º–æ—â—å –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –í–µ—Ä–¥–∏–∫—Ç–∞ –¥–ª—è –µ–µ –∞–Ω–∞–ª–∏–∑–∞! üí´`;
    }

    async getAIResponse(messages) {
        try {
            const response = await fetch(this.API_CONFIG.url, {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${this.API_CONFIG.apiKey}`,
                    'Content-Type': 'application/json',
                    'HTTP-Referer': window.location.origin,
                    'X-Title': 'Verdikt GPT - Expert Relationship Advisor'
                },
                body: JSON.stringify({
                    model: this.API_CONFIG.model,
                    messages: messages,
                    max_tokens: this.API_CONFIG.maxTokens,
                    temperature: this.state.aiModes[this.state.currentMode].temperature,
                    stream: false
                })
            });

            if (!response.ok) {
                throw new Error(`HTTP ${response.status}`);
            }

            const data = await response.json();
            return data.choices[0].message.content;
            
        } catch (error) {
            console.warn('API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –í–µ—Ä–¥–∏–∫—Ç–∞');
            return this.generateFallbackResponse(messages[messages.length - 1].content);
        }
    }

    // ========== UI –ò –ò–ù–¢–ï–†–§–ï–ô–° ==========

    addMessage(content, sender) {
        const messageId = 'msg-' + Date.now();
        const time = this.getCurrentTime();
        
        const messageElement = document.createElement('div');
        messageElement.className = `message ${sender}-message`;
        messageElement.id = messageId;
        
        messageElement.innerHTML = `
            <div class="message-actions">
                <button class="message-action" onclick="VerdiktChat.copyMessage('${messageId}')">
                    <i class="fas fa-copy"></i>
                </button>
                <button class="message-action" onclick="VerdiktChat.speakMessage('${messageId}')">
                    <i class="fas fa-volume-up"></i>
                </button>
                <button class="message-action" onclick="VerdiktChat.regenerateMessage('${messageId}')">
                    <i class="fas fa-redo"></i>
                </button>
            </div>
            <div class="message-sender">
                <i class="fas fa-${sender === 'user' ? 'user' : 'heart'}"></i>
                ${sender === 'user' ? '–í—ã' : 'Verdikt GPT'}
            </div>
            <div class="message-content">${this.formatMessage(content)}</div>
            <div class="message-time">${time}</div>
        `;
        
        this.elements.chatMessages.appendChild(messageElement);
        
        setTimeout(() => {
            messageElement.style.animation = 'messageAppear 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards';
        }, 10);
        
        setTimeout(() => {
            hljs.highlightAll();
        }, 100);
        
        this.scrollToBottom();
    }

    formatMessage(text) {
        return text
            .replace(/\n/g, '<br>')
            .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
            .replace(/\*(.*?)\*/g, '<em>$1</em>')
            .replace(/`{3}([\s\S]*?)`{3}/g, '<pre><code>$1</code></pre>')
            .replace(/`([^`]+)`/g, '<code>$1</code>')
            .replace(/üß†/g, '<span class="emoji-large">üß†</span>')
            .replace(/üíñ/g, '<span class="emoji-large">üíñ</span>')
            .replace(/üõ°Ô∏è/g, '<span class="emoji-large">üõ°Ô∏è</span>')
            .replace(/‚ú®/g, '<span class="emoji-large">‚ú®</span>');
    }

    // ========== –†–ï–ñ–ò–ú–´ –ò –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø ==========

    setAIMode(modeId) {
        this.state.currentMode = modeId;
        
        document.querySelectorAll('.mode-item').forEach(item => {
            item.classList.remove('active');
        });
        document.querySelector(`.mode-item[data-mode="${modeId}"]`).classList.add('active');
        
        this.API_CONFIG.temperature = this.state.aiModes[modeId].temperature;
        
        let modeDescription = '';
        switch(modeId) {
            case 'verdikt':
                modeDescription = '–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –ú–∞–∫—Å–∏–º–∞ –í–µ—Ä–¥–∏–∫—Ç–∞ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö';
                break;
            case 'emotional':
                modeDescription = '–≠–º–ø–∞—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —á—É–≤—Å—Ç–≤–∞ –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏';
                break;
            case 'analytical':
                modeDescription = '–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–∏—Ç—É–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π';
                break;
            case 'protective':
                modeDescription = '–í—ã—è–≤–ª–µ–Ω–∏–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π –∏ –∑–∞—â–∏—Ç–∞ –≥—Ä–∞–Ω–∏—Ü';
                break;
        }
        
        this.showNotification(`–†–µ–∂–∏–º: ${this.state.aiModes[modeId].name} - ${modeDescription}`, 'info');
    }

    // ========== –î–û–°–¢–ò–ñ–ï–ù–ò–Ø ==========

    checkAchievements() {
        if (this.state.stats.userMessages >= 10 && !this.state.achievements.activeUser.unlocked) {
            this.unlockAchievement('activeUser');
        }
        
        const currentHour = new Date().getHours();
        if ((currentHour >= 23 || currentHour <= 5) && !this.state.achievements.nightOwl.unlocked) {
            this.unlockAchievement('nightOwl');
        }
        
        if (this.state.stats.verdiktPrinciplesUsed >= 5 && !this.state.achievements.verdiktExpert.unlocked) {
            this.unlockAchievement('verdiktExpert');
        }
    }

    unlockAchievement(achievementId) {
        if (!this.state.achievements[achievementId]) return;
        
        this.state.achievements[achievementId].unlocked = true;
        
        const achievement = this.state.achievements[achievementId];
        document.getElementById('achievement-icon').textContent = achievement.icon;
        document.getElementById('achievement-title').textContent = achievement.name;
        document.getElementById('achievement-desc').textContent = achievement.description;
        
        const notification = document.getElementById('achievement-notification');
        notification.style.display = 'flex';
        notification.style.animation = 'none';
        setTimeout(() => {
            notification.style.animation = 'achievementSlide 3s ease';
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }, 10);
        
        this.updateAchievementsUI();
        this.saveToLocalStorage();
    }

    // ========== –ö–û–ú–ê–ù–î–´ –ò –£–ü–†–ê–í–õ–ï–ù–ò–ï ==========

    handleCommand(command) {
        const parts = command.split(' ');
        const cmd = parts[0];
        const args = parts.slice(1);
        
        switch(cmd) {
            case '/clear':
                this.clearChat();
                break;
            case '/save':
                this.saveChat();
                break;
            case '/export':
                this.showExportModal();
                break;
            case '/ignore':
                this.setAIMode('analytical');
                this.elements.messageInput.value = '–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–≥–Ω–æ—Ä –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –ø–æ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –í–µ—Ä–¥–∏–∫—Ç–∞?';
                this.elements.messageInput.focus();
                break;
            case '/love':
                this.setAIMode('emotional');
                this.elements.messageInput.value = '–ö–∞–∫ –ø–æ–Ω—è—Ç—å —Å–≤–æ–∏ —á—É–≤—Å—Ç–≤–∞: –≤–ª—é–±–ª–µ–Ω–Ω–æ—Å—Ç—å –∏–ª–∏ –ª—é–±–æ–≤—å? –ö–∞–∫–∏–µ —Å—Ç–∞–¥–∏–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è?';
                this.elements.messageInput.focus();
                break;
            case '/manipulation':
                this.setAIMode('protective');
                this.elements.messageInput.value = '–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –∏ –∑–∞—â–∏—Ç–∏—Ç—å —Å–≤–æ–∏ –≥—Ä–∞–Ω–∏—Ü—ã?';
                this.elements.messageInput.focus();
                break;
            case '/verdikt':
                this.setAIMode('verdikt');
                this.elements.messageInput.value = '–†–∞—Å—Å–∫–∞–∂–∏ –æ 8 –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –í–µ—Ä–¥–∏–∫—Ç–∞ –∏ –∫–∞–∫ –∏—Ö –ø—Ä–∏–º–µ–Ω—è—Ç—å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö';
                this.elements.messageInput.focus();
                break;
            case '/diagnose':
                this.setAIMode('verdikt');
                this.elements.messageInput.value = '–ü–æ–º–æ–≥–∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –º–æ–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π –ø–æ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –í–µ—Ä–¥–∏–∫—Ç–∞';
                this.elements.messageInput.focus();
                break;
            case '/stats':
                this.showStatsModal();
                break;
            case '/presentation':
                this.togglePresentationMode();
                break;
            case '/help':
                this.showQuickCommands();
                break;
            default:
                return false;
        }
        return true;
    }

    showQuickCommands() {
        const commands = [
            '/clear - –û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç',
            '/save - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é',
            '/export - –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã',
            '/ignore - –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ –∏–≥–Ω–æ—Ä—É',
            '/love - –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –≤–ª—é–±–ª–µ–Ω–Ω–æ—Å—Ç–∏',
            '/manipulation - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π',
            '/verdikt - –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –ú–∞–∫—Å–∏–º–∞ –í–µ—Ä–¥–∏–∫—Ç–∞',
            '/diagnose - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π',
            '/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞',
            '/presentation - –†–µ–∂–∏–º –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏',
            '/help - –í—Å–µ –∫–æ–º–∞–Ω–¥—ã'
        ];
        
        alert('üìã –ö–û–ú–ê–ù–î–´ VERDIKT GPT:\n\n' + commands.join('\n'));
    }

    // ========== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ú–ï–¢–û–î–´ ==========

    // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã (setupEventListeners, setupKeyboardShortcuts, setupSpeechRecognition,
    // setupServiceWorker, setupBackgroundAnimations, checkApiStatus, showConnectionSuccessAnimation,
    // toggleVoiceRecording, speakMessage, speakLastMessage, clearChat, saveChat, createNewChat,
    // exportChat, setTheme, togglePresentationMode, createSlides, showSlide, prevSlide, nextSlide,
    // showSmartSuggestions, hideSmartSuggestions, updateOnlineStatus, showModal, hideModal,
    // showSettingsModal, showExportModal, showStatsModal, updateActivityChart, updatePopularTopics,
    // saveSettings, updateUI, updateAchievementsUI, getAchievementIdByName, copyMessage,
    // regenerateMessage, showTypingIndicator, hideTypingIndicator, showNotification,
    // getCurrentTime, scrollToBottom, loadFromLocalStorage, saveToLocalStorage, updateAverageResponseTime)
    // –æ—Å—Ç–∞—é—Ç—Å—è –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –∫–æ–¥–∞.

    // –î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞ —è –Ω–µ –¥—É–±–ª–∏—Ä—É—é –∏—Ö –∑–¥–µ—Å—å, –Ω–æ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏–∑ –≤–∞—à–µ–≥–æ —Ç–µ–∫—É—â–µ–≥–æ main.js
    // –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: –æ–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–æ–≤–æ–π —Ç–µ–º–∞—Ç–∏–∫–æ–π.
}

// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø
window.VerdiktChat = new VerdiktChatApp();


