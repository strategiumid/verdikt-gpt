# Порт сервера
server.port=8080

# H2 — база в файле (данные сохраняются между перезапусками)
spring.datasource.url=jdbc:h2:file:./data/verdikt;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA — создавать/обновлять таблицы по сущностям
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# JWT (секрет минимум 32 символа для HS256)
jwt.secret=verdikt-secret-key-minimum-32-characters-for-hs256
jwt.expiration-ms=86400000
# Cookie для JWT (HttpOnly, защита от XSS)
jwt.cookie-name=verdikt_token

# Rate limiting: ограничение попыток с одного IP (защита от брутфорса)
app.rate-limit.login.max-attempts=5
app.rate-limit.login.window-seconds=300
app.rate-limit.register.max-attempts=3
app.rate-limit.register.window-seconds=3600

# Логи: не выводить в лог пароли, токены, ключи, зашифрованные данные и части ключей.
# Web/Security на WARN — при DEBUG могут логироваться заголовки (Authorization, Cookie).
logging.level.root=INFO
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN
logging.level.org.hibernate=WARN
